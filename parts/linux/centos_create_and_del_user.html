<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="../../css/styles.css" rel="stylesheet">
    <title>Создание и удаление пользователей CentOS 7</title>
</head>

<body>
    <header>
        <div class="navigation return">
            <ul>
                <li class="list active">
                    <a href="../../index.html#home">
                        <span class="icon">
                            <img src="../../img/icon-return.png" alt="icon-return">
                        </span>
                        <span class="text">Назад</span>
                    </a>
                </li>
                <div class="indicator"></div>
            </ul>
        </div>
    </header>
    <main>
        <h1>Создание и удаление пользователей CentOS 7</h1>
        <h2>Создание пользователя</h2>
        <p>
            Для создания пользователя в CentOS 7 используется команда <code>adduser</code>.<br>
            Из под пользователя <b>root</b>:
        </p>
        <p class="example">
            <code>
                    adduser <span style="color:red">username</span>
                </code>
        </p>
        <p>Либо из под пользователя с привилегиями <b>sudo</b></p>
        <p class="example">
            <code>
                sudo adduser <span style="color:red">username</span>
            </code>
        </p>
        <p>
            Далее нужно установить пароль для созданного юзера командой <code>passwd</code>.<br>
            Для пользователя <b>root</b>:
        </p>
        <p class="example">
            <code>
                    passwd <span style="color:red">username</span>
                </code>
        </p>
        <p>Или для пользователя с привилегиями <b>sudo</b></p>
        <p class="example">
            <code>
                    sudo passwd <span style="color:red">username</span>
                </code>
        </p>
        <h2>Добавление и удаление пользователей из групп. Передача привилегий Sudo.</h2>
        <p>
            Если пользователю требуется выполнять команды с правами <b>root</b>, ему нужно предоставить доступ к
            <b>sudo</b> добавив в группу <b>wheel</b>.<br>
            Сделать это можно с помощью команды <code>gpasswd</code> c флагом <code><b>-a</b></code>.<br>
            Флаг <code><b>-d</b></code> позволяет удалить пользователя из группы.<br>
            Для пользователя root:
        </p>
        <p class="example">
            <code>
                gpasswd -a <span style="color:red">username</span> wheel
            </code><br>
            <code>
                gpasswd -d <span style="color:red">username</span> wheel
            </code>
        </p>
        <p>Для пользователя с правами <b>sudo</b></p>
        <p class="example">
            <code>
                sudo gpasswd -a <span style="color:red">username</span> wheel
            </code><br>
            <code>
                sudo gpasswd -d <span style="color:red">username</span> wheel
            </code>
        </p>
        <p>
            Теперь новый пользователь может запускать команды с правами администратора, используя в начале команды
            <b>sudo</b>
        </p>
        <p class="example">
            <code>
                    sudo <span style="color:red">command</span>
                </code>
        </p>
        <p>
            При этом пользователю потребуется ввести пароль от учетной записи. Также
            если понадобиться запускать несколько команд подряд с правами администратора,
            то можно использовать режим <b>superuser</b>, выполнив команду:
        </p>
        <p class="example">
            <code>
                    sudo su
            </code>
        </p>
        <p>После ввода данной команды пользователю, также потребуется ввести пароль от своей учетной записи.
            Обратите внимание, что теперь командная строка показывает, что вы будете выполнять команды от имени
            пользователя <b>root</b>:
            <img src="../../img/centos/centos_create_user_01.png" alt="centos_super_user">
            Для выхода из режима <b>superuser</b> просто введите команду:
        </p>
        <p class="example">
            <code>
                    exit
                </code>
        </p>
        <p>
            <img src="../../img/centos/centos_create_user_02.png" alt="centos_exit_super_user">
        </p>
        <h2>Просмотр групп пользователя и пользователей в группе</h2>
        <p>
            Для просмотра групп пользователя используется команда <code>lid</code>:
        </p>
        <p class="example">
            <code>
                lid nagorny
            </code>
        </p>
        <p>
            Для пользователя с привилегиями не забываем добавить в начало команды <b>sudo</b>.<br>
            Если будет нужно просмотреть пользователей в группе, то используется так же самая команда, но с флагом
            <code><b>-g</b></code>, например:
        </p>
        <p class="example">
            <code>
                lid -g wheel
            </code>
        </p>
        <p>
            Не забываем для пользователей из группы <b>wheel</b> в начале команды ставить <b>sudo</b>.
        </p>
        <h2>Удаление пользователей.</h2>
        <p>
            Для удаления ненужный учетных записей пользователей используется:
        </p>
        <p class="example">
            <code>
                    userdel <span style="color:red">username</span>
                </code>
        </p>
        <p>
            Если вам нужно, также удалить домашний каталог, то используйте:
        </p>
        <p class="example">
            <code>
                    userdel -r <span style="color:red">username</span>
                </code>
        </p>
        <p>
            И не забываем для выполнения пользователем с привилегиями использовать <b>sudo</b> перед командой.
        </p><br>
        <p>Обе вышеприведенные команды удаляют пользователя изо всех групп, в которых он состоял (например, из группы
            wheel). Если в будущем в системе появится пользователь с таким же именем, его нужно будет повторно добавить
            в группу wheel, чтобы предоставить ему привилегии sudo.</p>
    </main>
    <footer>
        <h4>Социальные сети</h4>
        <ul>
            <li>
                <a href="https://vk.com/infallen">
                    <img src="../../img/icon-vk.png" alt="icon-vk">
                </a>
            </li>
            <li>
                <a href="https://github.com/InFallen">
                    <img src="../../img/icon-github.png" alt="icon-github">
                </a>
            </li>
        </ul>
    </footer>
    <a href="#" title="Вернуться к началу" class="topbutton">^Наверх</a>
    <script src="../../js/scripts.js"></script>
</body>

</html>